<!DOCTYPE html>
<html lang="en">
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="/static/css/qwer.css">
    <script src = 'https://code.jquery.com/jquery-3.6.1.js'></script>
    <script src = 'https://cdnjs.cloudflare.com/ajax/libs/socket.io/4.5.2/socket.io.min.js'></script>
    <script type="text/javascript", charset="utf-8"></script>
</head>
<body onload="update_values();">
    <div class="container">
        <div class="background">
            <div class="central_box">
                <div class="button_countdown_control">
                    <button class="button_1_in">
                        <img src="/static/images/plus-svgrepo-com 2.svg">
                    </button>
                    <button class="button_1_out">
                        <img src="/static/images/Group 6.svg">
                    </button>
                    <button class="button_2_in">
                        <img src="/static/images/plus-svgrepo-com 2.svg">
                    </button>
                    <button class="button_2_out">
                        <img src="/static/images/Group 6.svg">
                    </button>

                    <button class="resset">RESSET</button>
                    <button class="resset_timer">RESSET</button>
                    <button class="countdown_up">COUNT UP</button>
                    <button class="countdown_down">COUNT DOWN</button>
                </div>
                <div class="countdown_view">00:00:00</div>
                <div class="time">TIME</div>
                <div class="time_view">00:00</div>
                <div class="team_name_1">team_1</div>
                <div class="team_name_2">team_2</div>
                <div class="score_team_1">0</div>
                <div class="double_symbol">:</div>
                <div class="score_team_2">0</div>

                <div class="_10mm">10mm</div>
                <div class="_12mm">12mm</div>
                <div class="_15mm">15mm</div>
                <div class="set_countdown">SET COUNTDOWN</div>
                <div class="ok">SET</div>

                <div class="switch-btn"></div>
                <input class="mm" placeholder="mm">
                <input class="ss" placeholder="ss">
                <div name="team_name_list">
                    <select id="select_send_ajax" class="team_name">
                          {% for team_name in list_team %}
                              <option class="asd" SELECTED>{{team_name}}</option>
                          {% endfor %}
                    </select>
            </div>
            
        </div>
    </div>
</body>
    <script>
    $('.switch-btn').click(function(){
      $(this).toggleClass('switch-on');
    });
    </script>
    <script>
        var interval = setInterval(update_values, 1000);

        function update_values() {
              $.getJSON('/get_team_score',
              function(data) {
                    $('#team_1_total').text(data.team_1);
                    console.log(data);
              });
              $.getJSON('/get_team_score',
              function(data) {
                    $('#team_2_total').text(data.team_2);
                    console.log(data);
              });

              team_name = $('#select_send_ajax option:selected').text();
              $.ajax({
                    type: 'POST',
                    url: 'http://127.0.0.1:5000/',
                    data: JSON.stringify(team_name),
                    contentType: 'application/json'
              });

              team_1 = team_name.split(':')[0].replace("{", '');
              team_2 = team_name.split(':')[1].replace("}", '');
              $('#qwe').text(team_1);
              $('#qwe1').text(team_2);
        };

        // var count_team_1 = 0;
        // var count_team_2 = 0;
        // var peredati = count_team_1;
        // localStorage.setItem('team_1_total', peredati);

        team_1_in.onclick = function() {
              $.getJSON('/add_score_team_1');
        };    

        team_2_in.onclick = function() {
              $.getJSON('/add_score_team_2');
        };
        
        team_1_out.onclick = function() {
              $.getJSON('/put_score_team_1');
        };    

        team_2_out.onclick = function() {
              $.getJSON('/put_score_team_2');
        };
  </script>
</html>